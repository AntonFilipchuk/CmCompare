<div class="coin-dashboard">

    <ng-container *ngIf="currentSelectedCoin$ | async as selectedCoin; else noCoinSelected">

        <div class="short-info">
            <div>
                <p class="highlighted">Selected coin:</p>
            </div>
            <div>
                <p class="highlighted">{{selectedCoin.id | uppercase}}</p>
            </div>
            <img src="{{selectedCoin.image}}" alt="{{selectedCoin.id}}">
        </div>

        <div>
            <table>
                <tr>
                    <th>
                        <p>Type</p>
                    </th>
                    <th>
                        <p>Price</p>
                    </th>
                    <th>
                        <p>Change</p>
                    </th>
                </tr>
                <tr>
                    <td>
                        <p>Current price</p>
                    </td>
                    <td>
                        <p>{{(currentSelectedCoinPrice$| async | currency :'USD':'symbol':'1.2')}}</p>
                    </td>
                    <td rowspan="2">
                        <p>{{prevAndCurrentCoinPricePercentChange$ | async}}
                            ({{prevAndCurrentCoinPriceValueChange$ | async}})
                        </p>
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Previous price</p>
                    </td>
                    <td>
                        <p>{{(prevSelectedCoinPrice$| async | currency :'USD':'symbol':'1.2')}}</p>
                    </td>
                </tr>

                <tr>
                    <td>
                        <p>Real price</p>
                    </td>
                    <td>
                        <p>{{(realCoin$ | async)!.current_price | currency :'USD':'symbol':'1.2'}}</p>
                    </td>
                    <td>
                        <p>{{currentAndRealCoinPricePercentChange$ | async}}
                            ({{currentAndRealCoinPriceValueChange$ |
                            async}})
                        </p>
                    </td>
                </tr>
            </table>
        </div>

    </ng-container>

    <ng-template #noCoinSelected>

        <div class="no-coin">
            <h2>
                Please select a coin by clicking on any row in the table!
            </h2>
        </div>
    </ng-template>
</div>